/**
 * OSRS Tile Icon Mappings
 * Maps tile metrics/types to their corresponding OSRS wiki icons
 */

// Skill icons
export const SKILL_ICONS = {
  attack: 'https://oldschool.runescape.wiki/images/Attack_icon.png',
  defence: 'https://oldschool.runescape.wiki/images/Defence_icon.png',
  strength: 'https://oldschool.runescape.wiki/images/Strength_icon.png',
  hitpoints: 'https://oldschool.runescape.wiki/images/Hitpoints_icon.png',
  ranged: 'https://oldschool.runescape.wiki/images/Ranged_icon.png',
  prayer: 'https://oldschool.runescape.wiki/images/Prayer_icon.png',
  magic: 'https://oldschool.runescape.wiki/images/Magic_icon.png',
  cooking: 'https://oldschool.runescape.wiki/images/Cooking_icon.png',
  woodcutting: 'https://oldschool.runescape.wiki/images/Woodcutting_icon.png',
  fletching: 'https://oldschool.runescape.wiki/images/Fletching_icon.png',
  fishing: 'https://oldschool.runescape.wiki/images/Fishing_icon.png',
  firemaking: 'https://oldschool.runescape.wiki/images/Firemaking_icon.png',
  crafting: 'https://oldschool.runescape.wiki/images/Crafting_icon.png',
  smithing: 'https://oldschool.runescape.wiki/images/Smithing_icon.png',
  mining: 'https://oldschool.runescape.wiki/images/Mining_icon.png',
  herblore: 'https://oldschool.runescape.wiki/images/Herblore_icon.png',
  agility: 'https://oldschool.runescape.wiki/images/Agility_icon.png',
  thieving: 'https://oldschool.runescape.wiki/images/Thieving_icon.png',
  slayer: 'https://oldschool.runescape.wiki/images/Slayer_icon.png',
  farming: 'https://oldschool.runescape.wiki/images/Farming_icon.png',
  runecraft: 'https://oldschool.runescape.wiki/images/Runecraft_icon.png',
  hunter: 'https://oldschool.runescape.wiki/images/Hunter_icon.png',
  construction: 'https://oldschool.runescape.wiki/images/Construction_icon.png',
};

// Boss icons
export const BOSS_ICONS = {
  zulrah: 'https://oldschool.runescape.wiki/images/Zulrah_%28serpentine%29.png',
  vorkath: 'https://oldschool.runescape.wiki/images/Vorkath.png',
  chambers_of_xeric: 'https://oldschool.runescape.wiki/images/Chambers_of_Xeric_logo.png',
  theatre_of_blood: 'https://oldschool.runescape.wiki/images/Theatre_of_Blood_logo.png',
  tombs_of_amascut: 'https://oldschool.runescape.wiki/images/Tombs_of_Amascut_logo.png',
  nightmare: 'https://oldschool.runescape.wiki/images/The_Nightmare.png',
  phosanis_nightmare: 'https://oldschool.runescape.wiki/images/Phosani%27s_Nightmare.png',
  nex: 'https://oldschool.runescape.wiki/images/Nex.png',
  corporeal_beast: 'https://oldschool.runescape.wiki/images/Corporeal_Beast.png',
  cerberus: 'https://oldschool.runescape.wiki/images/Cerberus.png',
  alchemical_hydra: 'https://oldschool.runescape.wiki/images/Alchemical_Hydra_%28serpentine%29.png',
  grotesque_guardians: 'https://oldschool.runescape.wiki/images/Dusk.png',
  the_gauntlet: 'https://oldschool.runescape.wiki/images/The_Gauntlet_logo.png',
  the_corrupted_gauntlet: 'https://oldschool.runescape.wiki/images/Corrupted_Hunllef.png',
  phantom_muspah: 'https://oldschool.runescape.wiki/images/Phantom_Muspah_%28ranged%29.png',
  duke_sucellus: 'https://oldschool.runescape.wiki/images/Duke_Sucellus.png',
  the_leviathan: 'https://oldschool.runescape.wiki/images/The_Leviathan.png',
  the_whisperer: 'https://oldschool.runescape.wiki/images/The_Whisperer.png',
  vardorvis: 'https://oldschool.runescape.wiki/images/Vardorvis.png',
  king_black_dragon: 'https://oldschool.runescape.wiki/images/King_Black_Dragon.png',
  kalphite_queen: 'https://oldschool.runescape.wiki/images/Kalphite_Queen.png',
  giant_mole: 'https://oldschool.runescape.wiki/images/Giant_Mole.png',
  dagannoth_rex: 'https://oldschool.runescape.wiki/images/Dagannoth_Rex.png',
  dagannoth_prime: 'https://oldschool.runescape.wiki/images/Dagannoth_Prime.png',
  dagannoth_supreme: 'https://oldschool.runescape.wiki/images/Dagannoth_Supreme.png',
  sarachnis: 'https://oldschool.runescape.wiki/images/Sarachnis.png',
  zalcano: 'https://oldschool.runescape.wiki/images/Zalcano.png',
  tempoross: 'https://oldschool.runescape.wiki/images/Tempoross.png',
  wintertodt: 'https://oldschool.runescape.wiki/images/Wintertodt.png',
  general_graardor: 'https://oldschool.runescape.wiki/images/General_Graardor.png',
  kreearra: 'https://oldschool.runescape.wiki/images/Kree%27arra.png',
  commander_zilyana: 'https://oldschool.runescape.wiki/images/Commander_Zilyana.png',
  kril_tsutsaroth: 'https://oldschool.runescape.wiki/images/K%27ril_Tsutsaroth.png',
  kraken: 'https://oldschool.runescape.wiki/images/Kraken.png',
  thermonuclear_smoke_devil: 'https://oldschool.runescape.wiki/images/Thermonuclear_smoke_devil.png',
  abyssal_sire: 'https://oldschool.runescape.wiki/images/Abyssal_Sire.png',
  scorpia: 'https://oldschool.runescape.wiki/images/Scorpia.png',
  callisto: 'https://oldschool.runescape.wiki/images/Callisto.png',
  vetion: 'https://oldschool.runescape.wiki/images/Vet%27ion.png',
  venenatis: 'https://oldschool.runescape.wiki/images/Venenatis.png',
  chaos_elemental: 'https://oldschool.runescape.wiki/images/Chaos_Elemental.png',
  chaos_fanatic: 'https://oldschool.runescape.wiki/images/Chaos_Fanatic.png',
  crazy_archaeologist: 'https://oldschool.runescape.wiki/images/Crazy_archaeologist.png',
  barrows_chests: 'https://oldschool.runescape.wiki/images/Barrows_icon.png',
  sol_heredit: 'https://oldschool.runescape.wiki/images/Sol_Heredit.png',
};

// Pet icons (matched by name keywords)
export const PET_ICONS = {
  heron: 'https://oldschool.runescape.wiki/images/Heron.png',
  rock_golem: 'https://oldschool.runescape.wiki/images/Rock_golem.png',
  beaver: 'https://oldschool.runescape.wiki/images/Beaver.png',
  baby_chinchompa: 'https://oldschool.runescape.wiki/images/Baby_chinchompa.png',
  giant_squirrel: 'https://oldschool.runescape.wiki/images/Giant_squirrel.png',
  tangleroot: 'https://oldschool.runescape.wiki/images/Tangleroot.png',
  rocky: 'https://oldschool.runescape.wiki/images/Rocky.png',
  rift_guardian: 'https://oldschool.runescape.wiki/images/Rift_guardian.png',
  phoenix: 'https://oldschool.runescape.wiki/images/Phoenix.png',
  olmlet: 'https://oldschool.runescape.wiki/images/Olmlet.png',
  lil_zik: 'https://oldschool.runescape.wiki/images/Lil%27_zik.png',
  tumekens_guardian: 'https://oldschool.runescape.wiki/images/Tumeken%27s_guardian.png',
  pet_snakeling: 'https://oldschool.runescape.wiki/images/Pet_snakeling.png',
  vorki: 'https://oldschool.runescape.wiki/images/Vorki.png',
  jalnibrek: 'https://oldschool.runescape.wiki/images/Jal-nib-rek.png',
  tzrekjad: 'https://oldschool.runescape.wiki/images/TzRek-Jad.png',
};

// Default fallback icons by tile type
export const TYPE_FALLBACK_ICONS = {
  kills: 'https://oldschool.runescape.wiki/images/Skull_%28status%29_icon.png',
  kc: 'https://oldschool.runescape.wiki/images/Skull_%28status%29_icon.png',
  level: 'https://oldschool.runescape.wiki/images/Stats_icon.png',
  xp: 'https://oldschool.runescape.wiki/images/Stats_icon.png',
  collection: 'https://oldschool.runescape.wiki/images/Collection_log.png',
  custom: 'https://oldschool.runescape.wiki/images/Quest_point_icon.png',
};

/**
 * Get the appropriate icon URL for a tile
 * @param {Object} tile - The tile object with type, metric, name, image_url
 * @returns {string} The icon URL to display
 */
export function getTileIcon(tile) {
  // If tile already has an image_url set, use it
  if (tile.image_url) {
    return tile.image_url;
  }

  const metric = tile.metric?.toLowerCase();
  const type = tile.type?.toLowerCase();
  const name = tile.name?.toLowerCase() || '';

  // Check skill icons
  if (SKILL_ICONS[metric]) {
    return SKILL_ICONS[metric];
  }

  // Check boss icons
  if (BOSS_ICONS[metric]) {
    return BOSS_ICONS[metric];
  }

  // Check if it's a pet task by name
  if (name.includes('pet') || type === 'pet') {
    // Try to match pet name
    for (const [key, url] of Object.entries(PET_ICONS)) {
      if (name.includes(key.replace('_', ' '))) {
        return url;
      }
    }
    // Default pet icon
    return 'https://oldschool.runescape.wiki/images/Pets.png';
  }

  // Try to find skill by name
  for (const [skill, url] of Object.entries(SKILL_ICONS)) {
    if (name.includes(skill)) {
      return url;
    }
  }

  // Try to find boss by name
  for (const [boss, url] of Object.entries(BOSS_ICONS)) {
    const bossName = boss.replace(/_/g, ' ');
    if (name.includes(bossName)) {
      return url;
    }
  }

  // Fallback by type
  if (TYPE_FALLBACK_ICONS[type]) {
    return TYPE_FALLBACK_ICONS[type];
  }

  // Ultimate fallback
  return null;
}

export default { getTileIcon, SKILL_ICONS, BOSS_ICONS, PET_ICONS, TYPE_FALLBACK_ICONS };
